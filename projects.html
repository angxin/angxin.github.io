<!doctype html>
<html>
<head>

	<title>Ang Xin's Projects</title>
	<link href="./style.css" rel="stylesheet">
	<script src="https://kit.fontawesome.com/c143af7231.js" crossorigin="anonymous"></script>
</head>
<body>

	<nav id="navbar">
		<a href="./"><h1 id="navbarHead">
			Ang Xin
		</h1></a>
		<ul>
			<li><a href="./">Home</a></li>
			<li><a href="./projects">Projects</a></li>
			<li><a href="./aboutme">About Me</a></li>
			<li><a href="#footer">Contact</a></li>
		</ul>
	</nav>

	<div id="projects">
		<h1>Latest Project</h1>
		<a href="." id="projectLink">
			<div class="projectPreview">
				<img src="." alt="." id="projectPic">
				<div class="projectText">
					<h4 class="projectSubtitle" id="projectTitle">.</h4>
					<p class="projectSubtitle" id="projectCaption">.</p>
				</div>
			</div>
		</a>
	</div>

	<hr></hr>

	<div id="projectList">
		<!--<nav>
			<ul>
				<li><a href="">All projects</a></li>
				<li><a href="">Tags</a></li>
			</ul>
		</nav>-->
		<h1>All Projects</h1>
		<div id="projectContainer">
			<!--
			<a href="." id="projectLink">
			<div class="projectPreview">
				<img src="." alt="." id="projectPic">
				<div class="projectText">
					<h4 class="projectSubtitle" id="projectTitle">.</h4>
					<p class="projectSubtitle" id="projectCaption">.</p>
				</div>
			</div>
			</a>
		-->


	</div>
	</div>

	<div id="footer">
		<h1>Contact Me</h1>
		<a href="https://www.linkedin.com/in/xin-ang-699366262/" target="_blank" rel="noopener noreferrer" class="fa-brands fa-linkedin contactIcons"></a>
		<a href="https://github.com/angxin" target="_blank" rel="noopener noreferrer" class="fa-brands fa-github contactIcons"></a>
		<a href="mailto: ax.gm01@gmail.com" target="_blank" rel="noopener noreferrer" class="fa fa-envelope contactIcons" aria-hidden="true"></a>
		<p>Copyright Â© 2023 All rights reserved</p>
	</div>

	<script>
		extract_csv();
		async function extract_csv(){

			//extract data from csv
			var csv_file = "./project_list.csv";
			var response = await fetch(csv_file);
			var tabledata = await response.text();

			//get data for latest project
			var data = tabledata.split("\n")
			var latest = data[1].split(',');

			//change latest project data to the one from the csv
			document.getElementById("projectLink").href = "./Project/"+latest[0];
			document.getElementById("projectPic").src = "./Media/"+latest[3];
			document.getElementById("projectPic").alt = latest[1];
			document.getElementById("projectTitle").innerHTML  = latest[1];
			document.getElementById("projectCaption").innerHTML  = latest[2];

			for(i=1; i<data.length;i++){
				var temp = data[i].split(',');
				document.getElementById("projectContainer").innerHTML  += `<a href='${"./Project/"+temp[0]}' id='projectLink'>
				<div class='projectPreview'>
					<img src='${"./Media/"+temp[3]}' alt='${temp[1]}' id='projectPic'>
					<div class='projectText'>
						<h4 class='projectSubtitle' id='projectTitle'>${temp[1]}</h4>
						<p class='projectSubtitle' id='projectCaption'>${temp[2]}</p>
					</div>
				</div>
				</a>`
				console.log(i)
			}
			
		}


		
	</script>
</body>
</html>